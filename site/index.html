<html>
  <head>
    <link rel="stylesheet" type="text/css" href="motel.css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="rjr/json.js"></script>
    <script type="text/javascript" src="rjr/jrw.js"></script>
    <script type="text/javascript" src="motel.js"></script>
    <script type="text/javascript">
      var client = new CosmosClient();
      client.onopen = function(){
        //loc = new Location();
        //loc.x=20; loc.y=-30; loc.z=15;
        //client.ws_node.invoke_request('create_location', loc);
                                      
        //client.track_location(2, 5);
        //client.track_location(3, 5);
        //client.get_entity('galaxy', 'galaxy1');
        client.get_entity('solarsystem', 'system1');
      }
      client.message_received = function(msg){
        //console.log(msg);
      }
      client.onsuccess = function(result){
        //console.log(result);
        if(result.json_class == "Cosmos::SolarSystem"){
          client.get_location(result.star.location.id);
          for(var p=0; p<result.planets.length; ++p){
            planet = result.planets[p];
            //console.log(planet);
            client.track_location(planet.location.id, 5);
          }
        }
      }
      client.onfailed = function(error, msg){
        //console.log(error);
        //console.log(msg);
      }
    </script>
  </head>
  <body>
    <div id="motel_canvas_container">
      <canvas id="motel_canvas" width="1500" height="700"></canvas>
    </div>
  </body>
</html>
